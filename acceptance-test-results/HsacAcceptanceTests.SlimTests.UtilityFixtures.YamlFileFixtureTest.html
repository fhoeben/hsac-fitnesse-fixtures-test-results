<html><head><title>HsacAcceptanceTests.SlimTests.UtilityFixtures.YamlFileFixtureTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.UtilityFixtures.YamlFileFixtureTest</h2></header><article><br/><br/>Yaml files fixture is a specialization of <a href="HsacAcceptanceTests.SlimTests.UtilityFixtures.FileFixture">FileFixture</a> which allows <a href="https://en.wikipedia.org/wiki/YAML">YAML files</a> to be read.<br/>It supports <a href="http://yaml.org/spec/1.1/">YAML specification version 1.1</a>.<br/><br/><h2 id="Reading">Reading</h2>
In this sample we first create a .yml file, using FileFixture, and then read it.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="4"><span class="pass">file fixture</span></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set directory</td>
		<td colspan="4"><a href="files/test">http://files/test</a></td>
	</tr>
	<tr class="slimRowColor2">
		<td>$yaml&lt;-[<a href="files/test/sample.yml">sample.yml</a>]</td>
		<td>create</td>
		<td>sample.yml</td>
		<td>containing</td>
		<td>wine: good</td>
	</tr>
	<tr class="slimRowColor2">
		<td>append</td>
		<td>#comment: ignored</td>
		<td>to</td>
		<td>$yaml->[<a href="files/test/sample.yml">sample.yml</a>]</td>
		<td>on new line</td>
	</tr>
	<tr class="slimRowColor2">
		<td>append</td>
		<td>beer: "bad"</td>
		<td>to</td>
		<td>$yaml->[<a href="files/test/sample.yml">sample.yml</a>]</td>
		<td>on new line</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>content of</td>
		<td colspan="3">$yaml->[<a href="files/test/sample.yml">sample.yml</a>]</td>
	<td><pre>wine: good
#comment: ignored
beer: &quot;bad&quot;</pre></td></tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">yaml file fixture</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td><span class="pass">load values from</span></td>
		<td colspan="3">$yaml->[<a href="files/test/sample.yml">sample.yml</a>]</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">values</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">wine</td>
		<td class="hash_value">good</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">beer</td>
		<td class="hash_value">bad</td>
	</tr>
</table></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>wine</td>
		<td><span class="pass">good</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>beer</td>
		<td><span class="pass">bad</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>number of values</td>
		<td colspan="2"><span class="pass">2</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td></td>
		<td colspan="3">We can use standard file fixture methods</td>
	</tr>
	<tr class="slimRowColor7">
		<td><span class="pass">delete</span></td>
		<td colspan="3">$yaml->[<a href="files/test/sample.yml">sample.yml</a>]</td>
	</tr>
</table>
<br/><h2 id="Writing">Writing</h2>
We can also write in an easier way:<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">yaml file fixture</span></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set directory</td>
		<td colspan="3"><a href="files/test">http://files/test</a></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>bad</td>
		<td>for</td>
		<td>wine</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>good</td>
		<td>for</td>
		<td>beer</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>better</td>
		<td>for</td>
		<td>cola</td>
	</tr>
	<tr class="slimRowColor9">
		<td>$sample2&lt;-[<a href="files/test/sample2.yml">sample2.yml</a>]</td>
		<td>create</td>
		<td>sample2.yml</td>
		<td>containing values</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>content of</td>
		<td colspan="2">$sample2->[<a href="files/test/sample2.yml">sample2.yml</a>]</td>
	<td><pre>wine: bad
beer: good
cola: better
</pre></td></tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">yaml file fixture</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td><span class="pass">load values from</span></td>
		<td colspan="3">$sample2->[<a href="files/test/sample2.yml">sample2.yml</a>]</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">values</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">wine</td>
		<td class="hash_value">bad</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">beer</td>
		<td class="hash_value">good</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">cola</td>
		<td class="hash_value">better</td>
	</tr>
</table></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>wine</td>
		<td><span class="pass">bad</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>beer</td>
		<td><span class="pass">good</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>cola</td>
		<td><span class="pass">better</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>number of values</td>
		<td colspan="2"><span class="pass">3</span></td>
	</tr>
	<tr class="slimRowColor7">
		<td><span class="pass">delete</span></td>
		<td colspan="3">$sample2->[<a href="files/test/sample2.yml">sample2.yml</a>]</td>
	</tr>
</table>
<br/><h2 id="Readingarray">Reading array</h2>
The top level of a YAML file can be an array instead of a set of properties. In that case the fixture will create a 'root value' called elements.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="4"><span class="pass">file fixture</span></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set directory</td>
		<td colspan="4"><a href="files/test">http://files/test</a></td>
	</tr>
	<tr class="slimRowColor0">
		<td>$sample3&lt;-[<a href="files/test/sample3.yml">sample3.yml</a>]</td>
		<td>create</td>
		<td>sample3.yml</td>
		<td>containing</td>
		<td>- wine</td>
	</tr>
	<tr class="slimRowColor2">
		<td>append</td>
		<td>- beer</td>
		<td>to</td>
		<td>$sample3->[<a href="files/test/sample3.yml">sample3.yml</a>]</td>
		<td>on new line</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>content of</td>
		<td colspan="3">$sample3->[<a href="files/test/sample3.yml">sample3.yml</a>]</td>
	<td><pre>- wine
- beer</pre></td></tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">yaml file fixture</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td><span class="pass">load values from</span></td>
		<td colspan="3">$sample3->[<a href="files/test/sample3.yml">sample3.yml</a>]</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">values</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">elements</td>
		<td class="hash_value">[wine, beer]</td>
	</tr>
</table></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>elements[0]</td>
		<td><span class="pass">wine</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>elements[1]</td>
		<td><span class="pass">beer</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>number of values</td>
		<td colspan="2"><span class="pass">1</span></td>
	</tr>
	<tr class="slimRowColor7">
		<td><span class="pass">delete</span></td>
		<td colspan="3">$sample3->[<a href="files/test/sample3.yml">sample3.yml</a>]</td>
	</tr>
</table>
<br/><h2 id="Writingnestedvalue">Writing nested value</h2>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="4"><span class="pass">yaml file fixture</span></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set directory</td>
		<td colspan="4"><a href="files/test">http://files/test</a></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>white</td>
		<td>for</td>
		<td colspan="2">wine[0]</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>red</td>
		<td>for</td>
		<td colspan="2">wine[1]</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>rose</td>
		<td>for</td>
		<td colspan="2">wine[2]</td>
	</tr>
	<tr class="slimRowColor1">
		<td>$sample4&lt;-[<a href="files/test/sample4.yml">sample4.yml</a>]</td>
		<td>create</td>
		<td>sample4.yml</td>
		<td>containing value</td>
		<td>wine</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>content of</td>
		<td colspan="3">$sample4->[<a href="files/test/sample4.yml">sample4.yml</a>]</td>
	<td><pre>- white
- red
- rose
</pre></td></tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">yaml file fixture</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td><span class="pass">load values from</span></td>
		<td colspan="3">$sample4->[<a href="files/test/sample4.yml">sample4.yml</a>]</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">values</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">elements</td>
		<td class="hash_value">[white, red, rose]</td>
	</tr>
</table></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>elements[0]</td>
		<td><span class="pass">white</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>elements[1]</td>
		<td><span class="pass">red</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value</td>
		<td>elements[2]</td>
		<td><span class="pass">rose</span></td>
	</tr>
	<tr class="slimRowColor7">
		<td><span class="pass">delete</span></td>
		<td colspan="3">$sample4->[<a href="files/test/sample4.yml">sample4.yml</a>]</td>
	</tr>
</table>
</article></body></html>