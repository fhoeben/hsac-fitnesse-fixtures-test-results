<html><head><title>HsacAcceptanceTests.SlimTests.BrowserTest.Html5DragAndDropTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.BrowserTest.Html5DragAndDropTest</h2></header><article><br/><span class="meta">variable defined: HTML= {{{
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;style&gt;
#div1 {
  width: 350px;
  height: 70px;
  padding: 10px;
  border: 1px solid #aaaaaa;
}
&lt;/style&gt;
&lt;script&gt;
function allowDrop(ev) {
  ev.preventDefault();
}
function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}
function drop(ev) {
  ev.preventDefault();
  var data = ev.dataTransfer.getData("text");
  ev.target.appendChild(document.getElementById(data));
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"&gt;&lt;/div&gt;
&lt;br&gt;
&lt;div id="drag1" draggable="true" ondragstart="drag(event)"&gt;drag me!&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
}}} </span>
<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td><pre>
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;style&gt;
#div1 {
  width: 350px;
  height: 70px;
  padding: 10px;
  border: 1px solid #aaaaaa;
}
&lt;/style&gt;
&lt;script&gt;
function allowDrop(ev) {
  ev.preventDefault();
}
function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}
function drop(ev) {
  ev.preventDefault();
  var data = ev.dataTransfer.getData("text");
  ev.target.appendChild(document.getElementById(data));
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"&gt;&lt;/div&gt;
&lt;br&gt;
&lt;div id="drag1" draggable="true" ondragstart="drag(event)"&gt;drag me!&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td><pre>
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;style&gt;
#div1 {
  width: 350px;
  height: 70px;
  padding: 10px;
  border: 1px solid #aaaaaa;
}
&lt;/style&gt;
&lt;script&gt;
function allowDrop(ev) {
  ev.preventDefault();
}
function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}
function drop(ev) {
  ev.preventDefault();
  var data = ev.dataTransfer.getData("text");
  ev.target.appendChild(document.getElementById(data));
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"&gt;&lt;/div&gt;
&lt;br&gt;
&lt;div id="drag1" draggable="true" ondragstart="drag(event)"&gt;drag me!&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://127.0.0.1:8000/FitNesseMock]</td>
		<td>get mock server url</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="3">$url->[http://127.0.0.1:8000/FitNesseMock]</td>
	</tr>
	<tr class="slimRowColor7">
		<td>seconds before timeout</td>
		<td colspan="3">1</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>normalized value of</td>
		<td>id=div1</td>
		<td><span class="pass">BLANK</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">html5 drag and drop</span></td>
		<td>id=drag1</td>
		<td>to</td>
		<td>id=div1</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>normalized value of</td>
		<td>id=div1</td>
		<td><span class="pass">drag me!</span></td>
	</tr>
</table>
<br/>Drag and drop will use the html5 version automatically if the source element has the attribute <span class="code">draggable</span> with value <span class="code">true</span>:<br/><br/><table>
	<tr class="slimRowTitle">
		<td colspan="4">script</td>
	</tr>
	<tr class="slimRowColor1">
		<td colspan="4"><span class="pass">refresh</span></td>
	</tr>
	<tr class="slimRowColor7">
		<td>seconds before timeout</td>
		<td colspan="3">1</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>normalized value of</td>
		<td>id=div1</td>
		<td><span class="pass">BLANK</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td><span class="pass">drag and drop</span></td>
		<td>id=drag1</td>
		<td>to</td>
		<td>id=div1</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>normalized value of</td>
		<td>id=div1</td>
		<td><span class="pass">drag me!</span></td>
	</tr>
</table>
</article></body></html>