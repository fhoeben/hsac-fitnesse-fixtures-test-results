<html><head><title>HsacAcceptanceTests.SlimTests.BrowserTest.ClickTemporarilyCoveredLinkTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.BrowserTest.ClickTemporarilyCoveredLinkTest</h2></header><article><br/>This test ensures a link is still clicked when it is covered by another element, but is uncovered before the timout expires. This is a common pattern where AJAX is involved, when a loading spinner covers a clickable element until the AJAX request has finished.<br/><br/><span class="meta">variable defined: HTML= {{{
&lt;html&gt;
&lt;body onload="startRemoveCoverTimer()"&gt;
&lt;div style="width: 200px; height: 200px; position: relative"&gt;
	&lt;a href=""&gt;The Link&lt;/a&gt;
	&lt;div id="cover" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(255, 255, 255, 0.5)"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;
	function startRemoveCoverTimer() {
    	setTimeout(removeCover, 2000);
    }

    function removeCover() {
    	document.getElementById('cover').style.display = 'none';
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;}}} </span>
<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Mock server</p>
	<div><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td><pre>
&lt;html&gt;
&lt;body onload="startRemoveCoverTimer()"&gt;
&lt;div style="width: 200px; height: 200px; position: relative"&gt;
	&lt;a href=""&gt;The Link&lt;/a&gt;
	&lt;div id="cover" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(255, 255, 255, 0.5)"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;
	function startRemoveCoverTimer() {
    	setTimeout(removeCover, 2000);
    }

    function removeCover() {
    	document.getElementById('cover').style.display = 'none';
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td><pre>
&lt;html&gt;
&lt;body onload="startRemoveCoverTimer()"&gt;
&lt;div style="width: 200px; height: 200px; position: relative"&gt;
	&lt;a href=""&gt;The Link&lt;/a&gt;
	&lt;div id="cover" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(255, 255, 255, 0.5)"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;
	function startRemoveCoverTimer() {
    	setTimeout(removeCover, 2000);
    }

    function removeCover() {
    	document.getElementById('cover').style.display = 'none';
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://127.0.0.1:8000/FitNesseMock]</td>
		<td>get mock server url</td>
	</tr>
</table>
<br/></div>
</div>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="2">$url->[http://127.0.0.1:8000/FitNesseMock]</td>
	</tr>
	<tr class="slimRowColor7">
		<td>seconds before timeout</td>
		<td colspan="2">1</td>
	</tr>
	<tr class="slimRowColor7">
		<td><span class="pass">reject</span></td>
		<td>click if available</td>
		<td>The Link</td>
	</tr>
	<tr class="slimRowColor7">
		<td>seconds before timeout</td>
		<td colspan="2">4</td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">click</span></td>
		<td colspan="2">The Link</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td colspan="2">stop</td>
	</tr>
</table>
<br/></article></body></html>