<html><head><title>HsacAcceptanceTests.SlimTests.BrowserTest.DragAndDropToOffsetXY</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.BrowserTest.DragAndDropToOffsetXY</h2></header><article><br/>We ensure drag given element and drop to offset using jQuery works (<a href="https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604">html5 drag and drop is not yet supported by Selenium</a> use <a href="HsacAcceptanceTests.SlimTests.BrowserTest.Html5DragAndDropTest">html5 drag and drop method</a> as a workaround).<br/><br/>We use a mock server running to serve the HTML (which was copied from <a href="https://jqueryui.com/droppable/)">https://jqueryui.com/droppable/)</a> defined in this page.<br/><br/><span class="meta">variable defined: HTML= {{{
&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;style&gt;
#draggable { width: 100px; height: 100px; padding: 0.5em; float: left; margin: 10px 10px 10px 0; border-style: solid; border-width: 1px; }
#droppable { width: 150px; height: 150px; padding: 0.5em; float: left; margin: 10px; border-style: solid; border-width: 1px; }
&lt;/style&gt;
&lt;script src="https://code.jquery.com/jquery-1.12.4.js"&gt;&lt;/script&gt;
&lt;script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"&gt;&lt;/script&gt;
&lt;script&gt;
$( function() {
$( "#draggable" ).draggable();
$( "#droppable" ).droppable({
drop: function( event, ui ) {
$( this )
.addClass( "ui-state-highlight" )
.find( "p" )
.html( "Dropped!" );
}
});
} );
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="draggable" class="ui-widget-content"&gt;
&lt;p&gt;Drag me to my target&lt;/p&gt;
&lt;/div&gt;
&lt;div id="droppable" class="ui-widget-header"&gt;
&lt;p&gt;Drop here&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
}}} </span>
<br/><br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td><pre>
&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;style&gt;
#draggable { width: 100px; height: 100px; padding: 0.5em; float: left; margin: 10px 10px 10px 0; border-style: solid; border-width: 1px; }
#droppable { width: 150px; height: 150px; padding: 0.5em; float: left; margin: 10px; border-style: solid; border-width: 1px; }
&lt;/style&gt;
&lt;script src="https://code.jquery.com/jquery-1.12.4.js"&gt;&lt;/script&gt;
&lt;script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"&gt;&lt;/script&gt;
&lt;script&gt;
$( function() {
$( "#draggable" ).draggable();
$( "#droppable" ).droppable({
drop: function( event, ui ) {
$( this )
.addClass( "ui-state-highlight" )
.find( "p" )
.html( "Dropped!" );
}
});
} );
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="draggable" class="ui-widget-content"&gt;
&lt;p&gt;Drag me to my target&lt;/p&gt;
&lt;/div&gt;
&lt;div id="droppable" class="ui-widget-header"&gt;
&lt;p&gt;Drop here&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://127.0.0.1:8001/FitNesseMock]</td>
		<td>get mock server url</td>
	</tr>
</table>
<br/><br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="5"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="5">$url->[http://127.0.0.1:8001/FitNesseMock]</td>
	</tr>
	<tr class="slimRowColor7">
		<td>seconds before timeout</td>
		<td colspan="5">1</td>
	</tr>
	<tr class="slimRowColor2">
		<td>drag and drop</td>
		<td>id=draggable</td>
		<td>to offset X</td>
		<td>150</td>
		<td>Y</td>
		<td>0</td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">wait for visible</span></td>
		<td colspan="5">css=.ui-state-highlight</td>
	</tr>
</table>
</article></body></html>