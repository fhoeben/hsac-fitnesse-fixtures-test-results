<html><head><title>HsacExamples.SlimTests.ExecuteProgramTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.ExecuteProgramTest</h2></header><article><br/>This page demonstrates the usage of ExecuteProgramTest, which allows you to run a program and inspect its output.<br/><br/><p class="note">The program will be executed on the machine which hosts the Slim process.</p><br/>We can run a program with some arguments, check its exit code and show its output.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">execute program test</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>-c</td>
		<td>as argument</td>
		<td>0</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>ls -l /</td>
		<td>as argument</td>
		<td>1</td>
	</tr>
	<tr class="slimRowColor5">
		<td><span class="pass">execute</span></td>
		<td colspan="3">/bin/bash</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>exit code</td>
		<td colspan="2"><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">standard out</td>
	<td><pre>total 44
drwxr-xr-x    2 root   root    4096 Aug 28 17:32 bin
drwxr-xr-x    3 root   root      17 Aug 28 17:33 boot
drwxr-xr-x    7 root   root     400 Oct 11 12:05 dev
drwxr-xr-x  123 root   root    8192 Oct 11 12:05 etc
drwxr-xr-x    3 root   root      33 Aug 29 02:31 home
drwxr-xr-x   20 root   root    4096 Aug 29 02:55 lib
drwxr-xr-x    2 root   root      33 Jul 28 05:21 lib64
drwxr-xr-x    2 root   root       6 Jul 28 05:20 media
drwxr-xr-x    2 root   root       6 Apr 10  2014 mnt
drwxr-xr-x    6 travis travis    88 Aug 29 02:55 opt
drwxr-xr-x    2 root   root       6 Aug 29 02:15 packer-files
dr-xr-xr-x 1001 nobody nogroup    0 Oct 11 12:05 proc
drwx------    7 root   root     110 Aug 29 02:51 root
drwxr-xr-x    7 root   root     340 Oct 11 12:05 run
drwxr-xr-x    2 root   root    8192 Aug 28 17:33 sbin
drwxr-xr-x    2 root   root       6 Jul 28 05:20 srv
dr-xr-xr-x   13 nobody nogroup    0 Oct 11 12:05 sys
drwxrwxrwt    7 root   root    4096 Oct 11 12:35 tmp
drwxr-xr-x   13 root   root    4096 Aug 28 17:33 usr
drwxr-xr-x   12 root   root     140 Aug 28 17:33 var
</pre></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>standard error</td>
		<td colspan="2"><span class="pass">BLANK</span></td>
	</tr>
</table>
<br/>The default timeout for program execution is one minute, but we can set a custom timeout. Furthermore we can control the directory it is invoked from, set all arguments using a list and get its output 'unformatted'.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">execute program test</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>timeout</td>
		<td><span class="pass">60000</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td>set timeout of</td>
		<td>100</td>
		<td>milliseconds</td>
	</tr>
	<tr class="slimRowColor6">
		<td>set working directory</td>
		<td colspan="2">/</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>-c, ls -l</td>
		<td>as arguments</td>
	</tr>
	<tr class="slimRowColor5">
		<td><span class="pass">execute</span></td>
		<td colspan="2">/bin/bash</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>exit code</td>
		<td><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">raw standard out</td>
	<td>total 44
drwxr-xr-x    2 root   root    4096 Aug 28 17:32 bin
drwxr-xr-x    3 root   root      17 Aug 28 17:33 boot
drwxr-xr-x    7 root   root     400 Oct 11 12:05 dev
drwxr-xr-x  123 root   root    8192 Oct 11 12:05 etc
drwxr-xr-x    3 root   root      33 Aug 29 02:31 home
drwxr-xr-x   20 root   root    4096 Aug 29 02:55 lib
drwxr-xr-x    2 root   root      33 Jul 28 05:21 lib64
drwxr-xr-x    2 root   root       6 Jul 28 05:20 media
drwxr-xr-x    2 root   root       6 Apr 10  2014 mnt
drwxr-xr-x    6 travis travis    88 Aug 29 02:55 opt
drwxr-xr-x    2 root   root       6 Aug 29 02:15 packer-files
dr-xr-xr-x 1002 nobody nogroup    0 Oct 11 12:05 proc
drwx------    7 root   root     110 Aug 29 02:51 root
drwxr-xr-x    7 root   root     340 Oct 11 12:05 run
drwxr-xr-x    2 root   root    8192 Aug 28 17:33 sbin
drwxr-xr-x    2 root   root       6 Jul 28 05:20 srv
dr-xr-xr-x   13 nobody nogroup    0 Oct 11 12:36 sys
drwxrwxrwt    7 root   root    4096 Oct 11 12:35 tmp
drwxr-xr-x   13 root   root    4096 Aug 28 17:33 usr
drwxr-xr-x   12 root   root     140 Aug 28 17:33 var
</td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>raw standard error</td>
		<td><span class="pass">BLANK</span></td>
	</tr>
</table>
<br/>The timeout can also be set in seconds, and pass environment variables (and the process's output is escaped to ensure it is displayed properly).<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">execute program test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td>set timeout of</td>
		<td>1</td>
		<td colspan="2">seconds</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>Hi <there></td>
		<td>for</td>
		<td>BLA</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>-c</td>
		<td>as argument</td>
		<td>0</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>echo ${BLA}</td>
		<td>as argument</td>
		<td>1</td>
	</tr>
	<tr class="slimRowColor5">
		<td><span class="pass">execute</span></td>
		<td colspan="3">/bin/bash</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>exit code</td>
		<td colspan="2"><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>raw standard out</td>
		<td colspan="2"><span class="pass">Hi &lt;there&gt;
</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>standard out</td>
		<td colspan="2"><span class="pass"><pre>Hi &lt;there&gt;
</pre></span></td>
	</tr>
</table>
<br/></article></body></html>