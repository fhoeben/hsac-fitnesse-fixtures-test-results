<html><head><title>HsacExamples.SlimTests.BrowserTests.SuiteSetUp</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.BrowserTests.SuiteSetUp</h2></header><article><br/>This set up page is executed once, before any tests in this suite.<br/>In it we configure which Java packages contain the logic for our fixtures, which browser we want to use for Selenium tests and we start this browser.<br/>This means we do not have to do this in every test, which means easier maintenance and better performance.<br/><br/>Stopping the browser is done in <a href="HsacExamples.SlimTests.BrowserTests.SuiteTearDown">SuiteTearDown</a>, which is done after all tests in this suite are completed.<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Fixture code locations</p>
	<div><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Included page: <a href="HsacExamples.SlimTests.SuiteSetUp">.HsacExamples.SlimTests.SuiteSetUp</a> <a href="HsacExamples.SlimTests.SuiteSetUp?edit&amp;redirectToReferer=true&amp;redirectAction=" class="edit">(edit)</a></p>
	<div>An import table<a title="create page" href="FitNesse.UserGuide.WritingAcceptanceTests.SliM.ImportTable?edit&amp;nonExistent=true">[?]</a> defines which Java packages may contain fixture classes. <br/><br/>For these examples the following packages are required:<br/><table>
	<tr class="slimRowTitle">
		<td>Import</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">nl.hsac.fitnesse.fixture</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">nl.hsac.fitnesse.fixture.slim</span></td>
	</tr>
</table>
</div>
</div>
<br/><table>
	<tr class="slimRowTitle">
		<td>Import</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">nl.hsac.fitnesse.fixture.slim.web</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">nl.hsac.fitnesse.fixture.FixtureDebugTest</span></td>
	</tr>
</table>
<br/></div>
</div>
<br/>The Selenium configuration below uses lines starting with <i>|note</i> to have configuration values present that are not currently used.<br/>This allows us to switch to another browser by just adding <i>|note</i> to one line and removing it from another, instead of typing the entire line.<br/><br/>Furthermore this configuration is prepared for both running the browser on the same (development) machine running Fitnesse (with <i>start driver for</i>), as remotely on a node in a Selenium Grid (with <i>connect to driver for</i>). <br/>The latter allows tests to be executed on different operating systems. This is also very useful to run tests as part of a continuous integration server (i.e. build server), when no browsers are installed on the server running the tests. <br/><br/><span class="meta">variable defined: GRID_HUB=http://remote-selenium.local:4444/wd/hub</span>
<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Define $mobileEmulation device attributes</p>
	<div><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">map fixture</span></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19</td>
		<td>for</td>
		<td>userAgent</td>
	</tr>
	<tr class="slimRowColor8">
		<td>set int value</td>
		<td>360</td>
		<td>for</td>
		<td>deviceMetrics.width</td>
	</tr>
	<tr class="slimRowColor8">
		<td>set int value</td>
		<td>640</td>
		<td>for</td>
		<td>deviceMetrics.height</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set double value</td>
		<td>3.0</td>
		<td>for</td>
		<td>deviceMetrics.pixelRatio</td>
	</tr>
	<tr class="slimRowColor1">
		<td>$mobileEmulation&lt;-[<table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">userAgent</td>
		<td class="hash_value">Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">deviceMetrics</td>
		<td class="hash_value"><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">width</td>
		<td class="hash_value">360</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">height</td>
		<td class="hash_value">640</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">pixelRatio</td>
		<td class="hash_value">3.0</td>
	</tr>
</table></td>
	</tr>
</table>]</td>
		<td colspan="3">copy map</td>
	</tr>
</table>
</div>
</div>
<br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Define $chromeHeadlessProfile chrome profile</p>
	<div><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">map fixture</span></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>headless</td>
		<td>for</td>
		<td>args[0]</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>disable-gpu</td>
		<td>for</td>
		<td>args[1]</td>
	</tr>
	<tr class="slimRowColor5">
		<td>$chromeHeadlessProfile&lt;-[<table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">args</td>
		<td class="hash_value">[headless, disable-gpu]</td>
	</tr>
</table>]</td>
		<td colspan="3">copy map</td>
	</tr>
</table>
</div>
</div>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="4"><span class="pass">selenium driver setup</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">start driver for</span></td>
		<td colspan="4">chrome</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">MicrosoftEdge</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">internet explorer</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">firefox</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">safari</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td>chrome mobile emulation</td>
		<td>with profile</td>
		<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">deviceName</td>
		<td class="hash_value">Apple iPhone 6</td>
	</tr>
</table></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td>chrome mobile emulation</td>
		<td>with profile</td>
		<td>$mobileEmulation</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td>chrome</td>
		<td>with profile</td>
		<td>$chromeHeadlessProfile</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>chrome</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>MicrosoftEdge</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>internet explorer</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>firefox</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
		<td>with capabilities</td>
		<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">browserName</td>
		<td class="hash_value">internet explorer</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">platform</td>
		<td class="hash_value">Windows 8.1</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">version</td>
		<td class="hash_value">11</td>
	</tr>
</table></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
		<td>with json capabilities</td>
		<td>{aut:"io.selendroid.testapp", emulator: true}</td>
	</tr>
	<tr class="exception closed">
		<td class="error">show</td>
		<td colspan="4" class="error">driver description</td>
	</tr><tr class="exception-detail closed-detail"><td colspan="5"><pre>__EXCEPTION__:org.openqa.selenium.WebDriverException: Sauce could not start your job. For more information on what happened, please visit https://saucelabs.com/jobs/35c81d13d2a54bb9a0914e5f94ded50f (WARNING: The server did not provide any stacktrace information)
Command duration or timeout: 1044.31 seconds
Build info: version: '3.8.1', revision: '6e95a6684b', time: '2017-12-01T18:33:54.468Z'
System info: host: 'travis-job-fhoeben-hsac-fitnesse-328114715', ip: '172.17.0.9', os.name: 'Linux', os.arch: 'amd64', os.version: '4.14.12-041412-generic', java.version: '1.8.0_151'
Driver info: driver.version: RemoteWebDriver
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.8.0_151]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) [rt.jar:1.8.0_151]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.8.0_151]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423) [rt.jar:1.8.0_151]
	at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$new$0(JsonWireProtocolResponse.java:53) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$getResponseFunction$2(JsonWireProtocolResponse.java:91) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:123) [selenium-remote-driver-3.8.1.jar]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) [rt.jar:1.8.0_151]
	at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958) [rt.jar:1.8.0_151]
	at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126) [rt.jar:1.8.0_151]
	at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498) [rt.jar:1.8.0_151]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485) [rt.jar:1.8.0_151]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) [rt.jar:1.8.0_151]
	at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152) [rt.jar:1.8.0_151]
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) [rt.jar:1.8.0_151]
	at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:464) [rt.jar:1.8.0_151]
	at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:73) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:142) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:601) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:219) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:142) [selenium-remote-driver-3.8.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:155) [selenium-remote-driver-3.8.1.jar]
	at nl.hsac.fitnesse.fixture.util.selenium.driverfactory.RemoteDriverFactory.createDriver(RemoteDriverFactory.java:38) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.util.selenium.driverfactory.RemoteDriverFactory.createDriver(RemoteDriverFactory.java:17) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.util.selenium.driverfactory.DriverManager.getSeleniumHelper(DriverManager.java:46) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.Environment.getSeleniumHelper(Environment.java:574) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.web.SeleniumDriverSetup.getHelper(SeleniumDriverSetup.java:319) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.web.SeleniumDriverSetup.driverDescription(SeleniumDriverSetup.java:169) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_151]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.methodInvoke(DefaultInteraction.java:221) [fitnesse-20171210.jar:20171210]
	at nl.hsac.fitnesse.fixture.slim.SlimFixture.invoke(SlimFixture.java:51) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.SlimFixture.aroundSlimInvoke(SlimFixture.java:31) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_151]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_151]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_151]
	at java.lang.reflect.Method.invoke(Method.java:498) [rt.jar:1.8.0_151]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.methodInvoke(DefaultInteraction.java:221) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.callMethod(DefaultInteraction.java:204) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.invokeMethod(DefaultInteraction.java:188) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.findAndInvoke(DefaultInteraction.java:166) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.MethodExecutor.findAndInvoke(MethodExecutor.java:18) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.FixtureMethodExecutor.execute(FixtureMethodExecutor.java:18) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.StatementExecutor.getMethodExecutionResult(StatementExecutor.java:139) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.StatementExecutor.call(StatementExecutor.java:112) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.instructions.CallInstruction.executeInternal(CallInstruction.java:35) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.instructions.Instruction.execute(Instruction.java:29) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.ListExecutor$Executive.executeStatement(ListExecutor.java:49) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.ListExecutor$Executive.executeStatements(ListExecutor.java:43) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.ListExecutor.execute(ListExecutor.java:85) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.SlimServer.executeInstructions(SlimServer.java:82) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.SlimServer.processOneSetOfInstructions(SlimServer.java:75) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.SlimServer.tryProcessInstructions(SlimServer.java:62) [fitnesse-20171210.jar:20171210]
	at fitnesse.slim.SlimServer.serve(SlimServer.java:47) [fitnesse-20171210.jar:20171210]
	at fitnesse.testsystems.slim.InProcessSlimClient$1.run(InProcessSlimClient.java:53) [fitnesse-20171210.jar:20171210]
	at java.lang.Thread.run(Thread.java:748) [rt.jar:1.8.0_151]</pre></td></tr>
</table>
</article></body></html>