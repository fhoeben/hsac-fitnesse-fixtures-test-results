<html><head><title>HsacExamples.SlimTests.BrowserTests.SuiteSetUp</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.BrowserTests.SuiteSetUp</h2></header><article><br/>This set up page is executed once, before any tests in this suite.<br/>In it we configure which Java packages contain the logic for our fixtures, which browser we want to use for Selenium tests and we start this browser.<br/>This means we do not have to do this in every test, which means easier maintenance and better performance.<br/><br/>Stopping the browser is done in <a href="HsacExamples.SlimTests.BrowserTests.SuiteTearDown">SuiteTearDown</a>, which is done after all tests in this suite are completed.<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Fixture code locations</p>
	<div><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Included page: <a href="HsacExamples.SlimTests.SuiteSetUp">.HsacExamples.SlimTests.SuiteSetUp</a> <a href="HsacExamples.SlimTests.SuiteSetUp?edit&amp;redirectToReferer=true&amp;redirectAction=" class="edit">(edit)</a></p>
	<div>An import table<a title="create page" href="FitNesse.UserGuide.WritingAcceptanceTests.SliM.ImportTable?edit&amp;nonExistent=true">[?]</a> defines which Java packages may contain fixture classes. <br/><br/>For these examples the following packages are required:<br/><table>
	<tr class="slimRowTitle">
		<td>Import</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">nl.hsac.fitnesse.fixture</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">nl.hsac.fitnesse.fixture.slim</span></td>
	</tr>
</table>
</div>
</div>
<br/><table>
	<tr class="slimRowTitle">
		<td>Import</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">nl.hsac.fitnesse.fixture.slim.web</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">nl.hsac.fitnesse.fixture.FixtureDebugTest</span></td>
	</tr>
</table>
<br/></div>
</div>
<br/>The Selenium configuration below uses lines starting with <i>|note</i> to have configuration values present that are not currently used.<br/>This allows us to switch to another browser by just adding <i>|note</i> to one line and removing it from another, instead of typing the entire line.<br/><br/>Furthermore this configuration is prepared for both running the browser on the same (development) machine running Fitnesse (with <i>start driver for</i>), as remotely on a node in a Selenium Grid (with <i>connect to driver for</i>). <br/>The latter allows tests to be executed on different operating systems. This is also very useful to run tests as part of a continuous integration server (i.e. build server), when no browsers are installed on the server running the tests. <br/><br/><span class="meta">variable defined: GRID_HUB=http://remote-selenium.local:4444/wd/hub</span>
<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Define $mobileEmulation device attributes</p>
	<div><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">map fixture</span></td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19</td>
		<td>for</td>
		<td>userAgent</td>
	</tr>
	<tr class="slimRowColor8">
		<td>set int value</td>
		<td>360</td>
		<td>for</td>
		<td>deviceMetrics.width</td>
	</tr>
	<tr class="slimRowColor8">
		<td>set int value</td>
		<td>640</td>
		<td>for</td>
		<td>deviceMetrics.height</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set double value</td>
		<td>3.0</td>
		<td>for</td>
		<td>deviceMetrics.pixelRatio</td>
	</tr>
	<tr class="slimRowColor1">
		<td>$mobileEmulation&lt;-[<table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">userAgent</td>
		<td class="hash_value">Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">deviceMetrics</td>
		<td class="hash_value"><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">width</td>
		<td class="hash_value">360</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">height</td>
		<td class="hash_value">640</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">pixelRatio</td>
		<td class="hash_value">3.0</td>
	</tr>
</table></td>
	</tr>
</table>]</td>
		<td colspan="3">copy map</td>
	</tr>
</table>
</div>
</div>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="4"><span class="pass">selenium driver setup</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td><span class="pass">start driver for</span></td>
		<td colspan="4">chrome</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">MicrosoftEdge</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">internet explorer</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">firefox</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">safari</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td colspan="3">phantomjs</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td>chrome mobile emulation</td>
		<td>with profile</td>
		<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">deviceName</td>
		<td class="hash_value">Apple iPhone 6</td>
	</tr>
</table></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>start driver for</td>
		<td>chrome mobile emulation</td>
		<td>with profile</td>
		<td>$mobileEmulation</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>chrome</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>MicrosoftEdge</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>internet explorer</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver for</td>
		<td>firefox</td>
		<td>at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
		<td>with capabilities</td>
		<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">browserName</td>
		<td class="hash_value">internet explorer</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">platform</td>
		<td class="hash_value">Windows 8.1</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">version</td>
		<td class="hash_value">11</td>
	</tr>
</table></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td>connect to driver at</td>
		<td><a href="http://remote-selenium.local:4444/wd/hub">http://remote-selenium.local:4444/wd/hub</a></td>
		<td>with json capabilities</td>
		<td>{aut:"io.selendroid.testapp", emulator: true}</td>
	</tr>
	<tr class="exception closed">
		<td class="error">show</td>
		<td colspan="4" class="error">driver description</td>
	</tr><tr class="exception-detail closed-detail"><td colspan="5"><pre>__EXCEPTION__:org.openqa.selenium.WebDriverException: Unexpected server error. (WARNING: The server did not provide any stacktrace information)
Command duration or timeout: 1.24 seconds
Build info: version: '2.53.1', revision: 'a36b8b1cd5757287168e54b817830adce9b0158d', time: '2016-06-30 19:26:09'
System info: host: 'testing-docker-8aa7efd5-0db0-47d9-b72a-cada65649054', ip: '172.17.0.9', os.name: 'Linux', os.arch: 'amd64', os.version: '4.8.12-040812-generic', java.version: '1.7.0_76'
Driver info: org.openqa.selenium.remote.RemoteWebDriver
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.7.0_76]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [rt.jar:1.7.0_76]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.7.0_76]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526) [rt.jar:1.7.0_76]
	at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:206) [selenium-remote-driver-2.53.1.jar]
	at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:158) [selenium-remote-driver-2.53.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:678) [selenium-remote-driver-2.53.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:249) [selenium-remote-driver-2.53.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131) [selenium-remote-driver-2.53.1.jar]
	at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:158) [selenium-remote-driver-2.53.1.jar]
	at nl.hsac.fitnesse.fixture.slim.web.SeleniumDriverSetup$2.createDriver(SeleniumDriverSetup.java:386) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.util.selenium.SeleniumHelper.driver(SeleniumHelper.java:1083) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.web.SeleniumDriverSetup.setAndUseDriverFactory(SeleniumDriverSetup.java:414) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.web.SeleniumDriverSetup.createAndSetRemoteDriver(SeleniumDriverSetup.java:394) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.web.SeleniumDriverSetup.connectToDriverAtWithCapabilities(SeleniumDriverSetup.java:261) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.junit.selenium.SeleniumGridDriverFactoryFactory$1.createDriver(SeleniumGridDriverFactoryFactory.java:31) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.util.selenium.SeleniumHelper.driver(SeleniumHelper.java:1083) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.web.SeleniumDriverSetup.driverDescription(SeleniumDriverSetup.java:308) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_76]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_76]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_76]
	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_76]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.methodInvoke(DefaultInteraction.java:147) [fitnesse-20161106.jar:20161106]
	at nl.hsac.fitnesse.fixture.slim.SlimFixture.invoke(SlimFixture.java:50) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at nl.hsac.fitnesse.fixture.slim.SlimFixture.aroundSlimInvoke(SlimFixture.java:30) [file:/home/travis/build/fhoeben/hsac-fitnesse-fixtures/wiki/fixtures/]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_76]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_76]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_76]
	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_76]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.methodInvoke(DefaultInteraction.java:147) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.callMethod(DefaultInteraction.java:130) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.invokeMethod(DefaultInteraction.java:114) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.fixtureInteraction.DefaultInteraction.findAndInvoke(DefaultInteraction.java:92) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.MethodExecutor.findAndInvoke(MethodExecutor.java:18) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.FixtureMethodExecutor.execute(FixtureMethodExecutor.java:18) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.StatementExecutor.getMethodExecutionResult(StatementExecutor.java:130) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.StatementExecutor.call(StatementExecutor.java:103) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.instructions.CallInstruction.executeInternal(CallInstruction.java:35) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.instructions.Instruction.execute(Instruction.java:29) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.ListExecutor$Executive.executeStatement(ListExecutor.java:49) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.ListExecutor$Executive.executeStatements(ListExecutor.java:43) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.ListExecutor.execute(ListExecutor.java:85) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.SlimServer.executeInstructions(SlimServer.java:82) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.SlimServer.processOneSetOfInstructions(SlimServer.java:75) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.SlimServer.tryProcessInstructions(SlimServer.java:62) [fitnesse-20161106.jar:20161106]
	at fitnesse.slim.SlimServer.serve(SlimServer.java:47) [fitnesse-20161106.jar:20161106]
	at fitnesse.testsystems.slim.InProcessSlimClient$1.run(InProcessSlimClient.java:53) [fitnesse-20161106.jar:20161106]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_76]</pre></td></tr>
</table>
</article></body></html>