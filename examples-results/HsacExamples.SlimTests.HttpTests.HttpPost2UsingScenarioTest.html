<html><head><title>HsacExamples.SlimTests.HttpTests.HttpPost2UsingScenarioTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.HttpTests.HttpPost2UsingScenarioTest</h2></header><article><br/><h2 id="Bodyviascenario">Body via scenario</h2>
<br/>Using a scenario allows us to generate multiple request, only changing certain values.<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Scenario definition</p>
	<div><span class="meta">variable defined: POST_BODY_2= {{{
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:AddInteger xmlns:ns1="http://tempuri.org"&gt;
      &lt;ns1:Arg1&gt;@{arg1}&lt;/ns1:Arg1&gt;
      &lt;ns1:Arg2&gt;@{arg2}&lt;/ns1:Arg2&gt;
    &lt;/ns1:AddInteger&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
}}} </span>
<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">xml http test</span></td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>table template</td>
		<td colspan="3">send request</td>
	</tr>
	<tr>
		<td>set value</td>
		<td><a href="http://tempuri.org/SOAP.Demo.AddInteger">http://tempuri.org/SOAP.Demo.AddInteger</a></td>
		<td>for header</td>
		<td>SOAPAction</td>
	</tr>
	<tr>
		<td>post</td>
		<td><pre>
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:AddInteger xmlns:ns1="http://tempuri.org"&gt;
      &lt;ns1:Arg1&gt;@{arg1}&lt;/ns1:Arg1&gt;
      &lt;ns1:Arg2&gt;@{arg2}&lt;/ns1:Arg2&gt;
    &lt;/ns1:AddInteger&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
</pre></td>
		<td>to</td>
		<td>http://www.crcind.com/csp/samples/SOAP.Demo.cls</td>
	</tr>
	<tr>
		<td>check</td>
		<td>response status</td>
		<td colspan="2">200</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="3">response</td>
	</tr>
	<tr>
		<td>register prefix</td>
		<td>tempuri</td>
		<td>for namespace</td>
		<td><a href="http://tempuri.org">http://tempuri.org</a></td>
	</tr>
	<tr>
		<td>$result=</td>
		<td>xPath</td>
		<td colspan="2">//tempuri:AddIntegerResult/text()</td>
	</tr>
</table>
</div>
</div>
<br/><table>
	<tr>
		<td colspan="3">send request</td>
	</tr>
	<tr>
		<td>arg1</td>
		<td>arg2</td>
		<td>result?</td>
	</tr>
	<tr class="scenario closed">
		<td class="fail">1</td>
		<td class="fail">1</td>
		<td class="fail">2 <span class="ignore">Test not run</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="3"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">send request</td>
	</tr>
	<tr>
		<td>set value</td>
		<td><a href="http://tempuri.org/SOAP.Demo.AddInteger">http://tempuri.org/SOAP.Demo.AddInteger</a></td>
		<td>for header</td>
		<td>SOAPAction</td>
	</tr>
	<tr>
		<td><span class="fail">post</span></td>
		<td><pre>
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:AddInteger xmlns:ns1="http://tempuri.org"&gt;
      &lt;ns1:Arg1&gt;1&lt;/ns1:Arg1&gt;
      &lt;ns1:Arg2&gt;1&lt;/ns1:Arg2&gt;
    &lt;/ns1:AddInteger&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
</pre></td>
		<td>to</td>
		<td>http://www.crcind.com/csp/samples/SOAP.Demo.cls</td>
	</tr>
	<tr>
		<td>check</td>
		<td>response status</td>
		<td colspan="2">[<span class="diff">3</span>0<span class="diff">1</span>] <span class="fail">expected [<span class="diff">2</span>0<span class="diff">0</span>]</span></td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="3">response</td>
	<td>&lt;head&gt;&lt;title&gt;Document Moved&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;This document may be found &lt;a HREF="https://www.crcind.com/csp/samples/SOAP.Demo.cls"&gt;here&lt;/a&gt;&lt;/body&gt;</td></tr>
	<tr>
		<td>register prefix</td>
		<td>tempuri</td>
		<td>for namespace</td>
		<td><a href="http://tempuri.org">http://tempuri.org</a></td>
	</tr>
	<tr>
		<td>$result= <span class="error"><div>Unable to check for SOAP fault, is the result XML? Response was:<pre>&lt;head&gt;&lt;title&gt;Document Moved&lt;/title&gt;&lt;/head&gt;<br/>&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;This document may be found &lt;a HREF=&quot;https://www.crcind.com/csp/samples/SOAP.Demo.cls&quot;&gt;here&lt;/a&gt;&lt;/body&gt;</pre></div></span></td>
		<td>xPath</td>
		<td colspan="2">//tempuri:AddIntegerResult/text()</td>
	</tr>
</table></td></tr>
	<tr class="scenario closed">
		<td class="fail">34</td>
		<td class="fail">16</td>
		<td class="fail">50 <span class="ignore">Test not run</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="3"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">send request</td>
	</tr>
	<tr>
		<td>set value</td>
		<td><a href="http://tempuri.org/SOAP.Demo.AddInteger">http://tempuri.org/SOAP.Demo.AddInteger</a></td>
		<td>for header</td>
		<td>SOAPAction</td>
	</tr>
	<tr>
		<td><span class="fail">post</span></td>
		<td><pre>
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:AddInteger xmlns:ns1="http://tempuri.org"&gt;
      &lt;ns1:Arg1&gt;34&lt;/ns1:Arg1&gt;
      &lt;ns1:Arg2&gt;16&lt;/ns1:Arg2&gt;
    &lt;/ns1:AddInteger&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
</pre></td>
		<td>to</td>
		<td>http://www.crcind.com/csp/samples/SOAP.Demo.cls</td>
	</tr>
	<tr>
		<td>check</td>
		<td>response status</td>
		<td colspan="2">[<span class="diff">3</span>0<span class="diff">1</span>] <span class="fail">expected [<span class="diff">2</span>0<span class="diff">0</span>]</span></td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="3">response</td>
	<td>&lt;head&gt;&lt;title&gt;Document Moved&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;This document may be found &lt;a HREF="https://www.crcind.com/csp/samples/SOAP.Demo.cls"&gt;here&lt;/a&gt;&lt;/body&gt;</td></tr>
	<tr>
		<td>register prefix</td>
		<td>tempuri</td>
		<td>for namespace</td>
		<td><a href="http://tempuri.org">http://tempuri.org</a></td>
	</tr>
	<tr>
		<td>$result= <span class="error"><div>Unable to check for SOAP fault, is the result XML? Response was:<pre>&lt;head&gt;&lt;title&gt;Document Moved&lt;/title&gt;&lt;/head&gt;<br/>&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;This document may be found &lt;a HREF=&quot;https://www.crcind.com/csp/samples/SOAP.Demo.cls&quot;&gt;here&lt;/a&gt;&lt;/body&gt;</pre></div></span></td>
		<td>xPath</td>
		<td colspan="2">//tempuri:AddIntegerResult/text()</td>
	</tr>
</table></td></tr>
</table>
</article></body></html>