<html><head><title>HsacExamples.SlimTests.HttpTests.HttpPost2UsingScenarioTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.HttpTests.HttpPost2UsingScenarioTest</h2></header><article><br/><h2>Body via scenario</h2>
<br/>Using a scenario allows us to generate multiple request, only changing certain values.<br/><br/><div class="collapsible closed"><ul><li><a href='#' class='expandall'>Expand</a></li><li><a href='#' class='collapseall'>Collapse</a></li></ul>
	<p class="title">Scenario definition</p>
	<div><span class="meta">variable defined: POST_BODY_2= {{{
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:GetCityWeatherByZIP xmlns:ns1="http://ws.cdyne.com/WeatherWS/"&gt;
      &lt;ns1:ZIP&gt;@{zip}&lt;/ns1:ZIP&gt;
    &lt;/ns1:GetCityWeatherByZIP&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
}}} </span>
<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">xml http test</span></td>
	</tr>
</table>
<br/><table>
	<tr>
		<td>table template</td>
		<td colspan="3">send request</td>
	</tr>
	<tr>
		<td>post</td>
		<td><pre>
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:GetCityWeatherByZIP xmlns:ns1="http://ws.cdyne.com/WeatherWS/"&gt;
      &lt;ns1:ZIP&gt;@{zip}&lt;/ns1:ZIP&gt;
    &lt;/ns1:GetCityWeatherByZIP&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
</pre></td>
		<td>to</td>
		<td><a href="http://wsf.cdyne.com/WeatherWS/Weather.asmx">http://wsf.cdyne.com/WeatherWS/Weather.asmx</a></td>
	</tr>
	<tr>
		<td>check</td>
		<td>response status</td>
		<td colspan="2">200</td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="3">response</td>
	</tr>
	<tr>
		<td>register prefix</td>
		<td>weather</td>
		<td>for namespace</td>
		<td><a href="http://ws.cdyne.com/WeatherWS/">http://ws.cdyne.com/WeatherWS/</a></td>
	</tr>
	<tr>
		<td>$City=</td>
		<td>xPath</td>
		<td colspan="2">//weather:City/text()</td>
	</tr>
</table>
</div>
</div>
<br/><table>
	<tr>
		<td colspan="2">send request</td>
	</tr>
	<tr>
		<td>zip</td>
		<td>City?</td>
	</tr>
	<tr class="scenario closed">
		<td class="fail">10007</td>
		<td class="fail">New York <span class="ignore">Test not run</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="2"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">send request</td>
	</tr>
	<tr>
		<td><span class="fail">post</span></td>
		<td><pre>
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:GetCityWeatherByZIP xmlns:ns1="http://ws.cdyne.com/WeatherWS/"&gt;
      &lt;ns1:ZIP&gt;10007&lt;/ns1:ZIP&gt;
    &lt;/ns1:GetCityWeatherByZIP&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
</pre></td>
		<td>to</td>
		<td><a href="http://wsf.cdyne.com/WeatherWS/Weather.asmx">http://wsf.cdyne.com/WeatherWS/Weather.asmx</a></td>
	</tr>
	<tr>
		<td>check</td>
		<td>response status</td>
		<td colspan="2">[<span class="diff">5</span>00] <span class="fail">expected [</span><span class="diff">2</span><span class="fail">00]</span></td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="3">response</td>
	<td>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Runtime Error&lt;/title&gt;
        &lt;style&gt;
         body {font-family:"Verdana";font-weight:normal;font-size: .7em;color:black;} 
         p {font-family:"Verdana";font-weight:normal;color:black;margin-top: -5px}
         b {font-family:"Verdana";font-weight:bold;color:black;margin-top: -5px}
         H1 { font-family:"Verdana";font-weight:normal;font-size:18pt;color:red }
         H2 { font-family:"Verdana";font-weight:normal;font-size:14pt;color:maroon }
         pre {font-family:"Lucida Console";font-size: .9em}
         .marker {font-weight: bold; color: black;text-decoration: none;}
         .version {color: gray;}
         .error {margin-bottom: 10px;}
         .expandable { text-decoration:underline; font-weight:bold; color:navy; cursor:hand; }
        &lt;/style&gt;
    &lt;/head&gt;

    &lt;body bgcolor="white"&gt;

            &lt;span&gt;&lt;H1&gt;Server Error in '/WeatherWS' Application.&lt;hr width=100% size=1 color=silver&gt;&lt;/H1&gt;

            &lt;h2&gt; &lt;i&gt;Runtime Error&lt;/i&gt; &lt;/h2&gt;&lt;/span&gt;

            &lt;font face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif "&gt;

            &lt;b&gt; Description: &lt;/b&gt;An application error occurred on the server. The current custom error settings for this application prevent the details of the application error from being viewed remotely (for security reasons). It could, however, be viewed by browsers running on the local server machine.
            &lt;br&gt;&lt;br&gt;

            &lt;b&gt;Details:&lt;/b&gt; To enable the details of this specific error message to be viewable on remote machines, please create a &amp;lt;customErrors&amp;gt; tag within a &amp;quot;web.config&amp;quot; configuration file located in the root directory of the current web application. This &amp;lt;customErrors&amp;gt; tag should then have its &amp;quot;mode&amp;quot; attribute set to &amp;quot;Off&amp;quot;.&lt;br&gt;&lt;br&gt;

            &lt;table width=100% bgcolor="#ffffcc"&gt;
               &lt;tr&gt;
                  &lt;td&gt;
                      &lt;code&gt;&lt;pre&gt;

&amp;lt;!-- Web.Config Configuration File --&amp;gt;

&amp;lt;configuration&amp;gt;
    &amp;lt;system.web&amp;gt;
        &amp;lt;customErrors mode=&amp;quot;Off&amp;quot;/&amp;gt;
    &amp;lt;/system.web&amp;gt;
&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;

                  &lt;/td&gt;
               &lt;/tr&gt;
            &lt;/table&gt;

            &lt;br&gt;

            &lt;b&gt;Notes:&lt;/b&gt; The current error page you are seeing can be replaced by a custom error page by modifying the &amp;quot;defaultRedirect&amp;quot; attribute of the application's &amp;lt;customErrors&amp;gt; configuration tag to point to a custom error page URL.&lt;br&gt;&lt;br&gt;

            &lt;table width=100% bgcolor="#ffffcc"&gt;
               &lt;tr&gt;
                  &lt;td&gt;
                      &lt;code&gt;&lt;pre&gt;

&amp;lt;!-- Web.Config Configuration File --&amp;gt;

&amp;lt;configuration&amp;gt;
    &amp;lt;system.web&amp;gt;
        &amp;lt;customErrors mode=&amp;quot;RemoteOnly&amp;quot; defaultRedirect=&amp;quot;mycustompage.htm&amp;quot;/&amp;gt;
    &amp;lt;/system.web&amp;gt;
&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;

                  &lt;/td&gt;
               &lt;/tr&gt;
            &lt;/table&gt;

            &lt;br&gt;

    &lt;/body&gt;
&lt;/html&gt;
</td></tr>
	<tr>
		<td>register prefix</td>
		<td>weather</td>
		<td>for namespace</td>
		<td><a href="http://ws.cdyne.com/WeatherWS/">http://ws.cdyne.com/WeatherWS/</a></td>
	</tr>
	<tr>
		<td>$City= <span class="error"><div>Unable to check for SOAP fault, is the result XML? Response was:<pre>&lt;html&gt;<br/>    &lt;head&gt;<br/>        &lt;title&gt;Runtime Error&lt;/title&gt;<br/>        &lt;style&gt;<br/>         body {font-family:&quot;Verdana&quot;;font-weight:normal;font-size: .7em;color:black;} <br/>         p {font-family:&quot;Verdana&quot;;font-weight:normal;color:black;margin-top: -5px}<br/>         b {font-family:&quot;Verdana&quot;;font-weight:bold;color:black;margin-top: -5px}<br/>         H1 { font-family:&quot;Verdana&quot;;font-weight:normal;font-size:18pt;color:red }<br/>         H2 { font-family:&quot;Verdana&quot;;font-weight:normal;font-size:14pt;color:maroon }<br/>         pre {font-family:&quot;Lucida Console&quot;;font-size: .9em}<br/>         .marker {font-weight: bold; color: black;text-decoration: none;}<br/>         .version {color: gray;}<br/>         .error {margin-bottom: 10px;}<br/>         .expandable { text-decoration:underline; font-weight:bold; color:navy; cursor:hand; }<br/>        &lt;/style&gt;<br/>    &lt;/head&gt;<br/><br/>    &lt;body bgcolor=&quot;white&quot;&gt;<br/><br/>            &lt;span&gt;&lt;H1&gt;Server Error in '/WeatherWS' Application.&lt;hr width=100% size=1 color=silver&gt;&lt;/H1&gt;<br/><br/>            &lt;h2&gt; &lt;i&gt;Runtime Error&lt;/i&gt; &lt;/h2&gt;&lt;/span&gt;<br/><br/>            &lt;font face=&quot;Arial, Helvetica, Geneva, SunSans-Regular, sans-serif &quot;&gt;<br/><br/>            &lt;b&gt; Description: &lt;/b&gt;An application error occurred on the server. The current custom error settings for this application prevent the details of the application error from being viewed remotely (for security reasons). It could, however, be viewed by browsers running on the local server machine.<br/>            &lt;br&gt;&lt;br&gt;<br/><br/>            &lt;b&gt;Details:&lt;/b&gt; To enable the details of this specific error message to be viewable on remote machines, please create a &amp;lt;customErrors&amp;gt; tag within a &amp;quot;web.config&amp;quot; configuration file located in the root directory of the current web application. This &amp;lt;customErrors&amp;gt; tag should then have its &amp;quot;mode&amp;quot; attribute set to &amp;quot;Off&amp;quot;.&lt;br&gt;&lt;br&gt;<br/><br/>            &lt;table width=100% bgcolor=&quot;#ffffcc&quot;&gt;<br/>               &lt;tr&gt;<br/>                  &lt;td&gt;<br/>                      &lt;code&gt;&lt;pre&gt;<br/><br/>&amp;lt;!-- Web.Config Configuration File --&amp;gt;<br/><br/>&amp;lt;configuration&amp;gt;<br/>    &amp;lt;system.web&amp;gt;<br/>        &amp;lt;customErrors mode=&amp;quot;Off&amp;quot;/&amp;gt;<br/>    &amp;lt;/system.web&amp;gt;<br/>&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;<br/><br/>                  &lt;/td&gt;<br/>               &lt;/tr&gt;<br/>            &lt;/table&gt;<br/><br/>            &lt;br&gt;<br/><br/>            &lt;b&gt;Notes:&lt;/b&gt; The current error page you are seeing can be replaced by a custom error page by modifying the &amp;quot;defaultRedirect&amp;quot; attribute of the application's &amp;lt;customErrors&amp;gt; configuration tag to point to a custom error page URL.&lt;br&gt;&lt;br&gt;<br/><br/>            &lt;table width=100% bgcolor=&quot;#ffffcc&quot;&gt;<br/>               &lt;tr&gt;<br/>                  &lt;td&gt;<br/>                      &lt;code&gt;&lt;pre&gt;<br/><br/>&amp;lt;!-- Web.Config Configuration File --&amp;gt;<br/><br/>&amp;lt;configuration&amp;gt;<br/>    &amp;lt;system.web&amp;gt;<br/>        &amp;lt;customErrors mode=&amp;quot;RemoteOnly&amp;quot; defaultRedirect=&amp;quot;mycustompage.htm&amp;quot;/&amp;gt;<br/>    &amp;lt;/system.web&amp;gt;<br/>&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;<br/><br/>                  &lt;/td&gt;<br/>               &lt;/tr&gt;<br/>            &lt;/table&gt;<br/><br/>            &lt;br&gt;<br/><br/>    &lt;/body&gt;<br/>&lt;/html&gt;<br/></pre></div></span></td>
		<td>xPath</td>
		<td colspan="2">//weather:City/text()</td>
	</tr>
</table></td></tr>
	<tr class="scenario closed">
		<td class="fail">94102</td>
		<td class="fail">San Francisco <span class="ignore">Test not run</span></td>
	</tr><tr class="scenario-detail closed-detail"><td colspan="2"><table>
	<tr>
		<td>table template</td>
		<td colspan="3">send request</td>
	</tr>
	<tr>
		<td><span class="fail">post</span></td>
		<td><pre>
&lt;s11:Envelope xmlns:s11="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;s11:Body&gt;
    &lt;ns1:GetCityWeatherByZIP xmlns:ns1="http://ws.cdyne.com/WeatherWS/"&gt;
      &lt;ns1:ZIP&gt;94102&lt;/ns1:ZIP&gt;
    &lt;/ns1:GetCityWeatherByZIP&gt;
  &lt;/s11:Body&gt;
&lt;/s11:Envelope&gt;
</pre></td>
		<td>to</td>
		<td><a href="http://wsf.cdyne.com/WeatherWS/Weather.asmx">http://wsf.cdyne.com/WeatherWS/Weather.asmx</a></td>
	</tr>
	<tr>
		<td>check</td>
		<td>response status</td>
		<td colspan="2">[<span class="diff">5</span>00] <span class="fail">expected [</span><span class="diff">2</span><span class="fail">00]</span></td>
	</tr>
	<tr>
		<td>show</td>
		<td colspan="3">response</td>
	<td>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Runtime Error&lt;/title&gt;
        &lt;style&gt;
         body {font-family:"Verdana";font-weight:normal;font-size: .7em;color:black;} 
         p {font-family:"Verdana";font-weight:normal;color:black;margin-top: -5px}
         b {font-family:"Verdana";font-weight:bold;color:black;margin-top: -5px}
         H1 { font-family:"Verdana";font-weight:normal;font-size:18pt;color:red }
         H2 { font-family:"Verdana";font-weight:normal;font-size:14pt;color:maroon }
         pre {font-family:"Lucida Console";font-size: .9em}
         .marker {font-weight: bold; color: black;text-decoration: none;}
         .version {color: gray;}
         .error {margin-bottom: 10px;}
         .expandable { text-decoration:underline; font-weight:bold; color:navy; cursor:hand; }
        &lt;/style&gt;
    &lt;/head&gt;

    &lt;body bgcolor="white"&gt;

            &lt;span&gt;&lt;H1&gt;Server Error in '/WeatherWS' Application.&lt;hr width=100% size=1 color=silver&gt;&lt;/H1&gt;

            &lt;h2&gt; &lt;i&gt;Runtime Error&lt;/i&gt; &lt;/h2&gt;&lt;/span&gt;

            &lt;font face="Arial, Helvetica, Geneva, SunSans-Regular, sans-serif "&gt;

            &lt;b&gt; Description: &lt;/b&gt;An application error occurred on the server. The current custom error settings for this application prevent the details of the application error from being viewed remotely (for security reasons). It could, however, be viewed by browsers running on the local server machine.
            &lt;br&gt;&lt;br&gt;

            &lt;b&gt;Details:&lt;/b&gt; To enable the details of this specific error message to be viewable on remote machines, please create a &amp;lt;customErrors&amp;gt; tag within a &amp;quot;web.config&amp;quot; configuration file located in the root directory of the current web application. This &amp;lt;customErrors&amp;gt; tag should then have its &amp;quot;mode&amp;quot; attribute set to &amp;quot;Off&amp;quot;.&lt;br&gt;&lt;br&gt;

            &lt;table width=100% bgcolor="#ffffcc"&gt;
               &lt;tr&gt;
                  &lt;td&gt;
                      &lt;code&gt;&lt;pre&gt;

&amp;lt;!-- Web.Config Configuration File --&amp;gt;

&amp;lt;configuration&amp;gt;
    &amp;lt;system.web&amp;gt;
        &amp;lt;customErrors mode=&amp;quot;Off&amp;quot;/&amp;gt;
    &amp;lt;/system.web&amp;gt;
&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;

                  &lt;/td&gt;
               &lt;/tr&gt;
            &lt;/table&gt;

            &lt;br&gt;

            &lt;b&gt;Notes:&lt;/b&gt; The current error page you are seeing can be replaced by a custom error page by modifying the &amp;quot;defaultRedirect&amp;quot; attribute of the application's &amp;lt;customErrors&amp;gt; configuration tag to point to a custom error page URL.&lt;br&gt;&lt;br&gt;

            &lt;table width=100% bgcolor="#ffffcc"&gt;
               &lt;tr&gt;
                  &lt;td&gt;
                      &lt;code&gt;&lt;pre&gt;

&amp;lt;!-- Web.Config Configuration File --&amp;gt;

&amp;lt;configuration&amp;gt;
    &amp;lt;system.web&amp;gt;
        &amp;lt;customErrors mode=&amp;quot;RemoteOnly&amp;quot; defaultRedirect=&amp;quot;mycustompage.htm&amp;quot;/&amp;gt;
    &amp;lt;/system.web&amp;gt;
&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;

                  &lt;/td&gt;
               &lt;/tr&gt;
            &lt;/table&gt;

            &lt;br&gt;

    &lt;/body&gt;
&lt;/html&gt;
</td></tr>
	<tr>
		<td>register prefix</td>
		<td>weather</td>
		<td>for namespace</td>
		<td><a href="http://ws.cdyne.com/WeatherWS/">http://ws.cdyne.com/WeatherWS/</a></td>
	</tr>
	<tr>
		<td>$City= <span class="error"><div>Unable to check for SOAP fault, is the result XML? Response was:<pre>&lt;html&gt;<br/>    &lt;head&gt;<br/>        &lt;title&gt;Runtime Error&lt;/title&gt;<br/>        &lt;style&gt;<br/>         body {font-family:&quot;Verdana&quot;;font-weight:normal;font-size: .7em;color:black;} <br/>         p {font-family:&quot;Verdana&quot;;font-weight:normal;color:black;margin-top: -5px}<br/>         b {font-family:&quot;Verdana&quot;;font-weight:bold;color:black;margin-top: -5px}<br/>         H1 { font-family:&quot;Verdana&quot;;font-weight:normal;font-size:18pt;color:red }<br/>         H2 { font-family:&quot;Verdana&quot;;font-weight:normal;font-size:14pt;color:maroon }<br/>         pre {font-family:&quot;Lucida Console&quot;;font-size: .9em}<br/>         .marker {font-weight: bold; color: black;text-decoration: none;}<br/>         .version {color: gray;}<br/>         .error {margin-bottom: 10px;}<br/>         .expandable { text-decoration:underline; font-weight:bold; color:navy; cursor:hand; }<br/>        &lt;/style&gt;<br/>    &lt;/head&gt;<br/><br/>    &lt;body bgcolor=&quot;white&quot;&gt;<br/><br/>            &lt;span&gt;&lt;H1&gt;Server Error in '/WeatherWS' Application.&lt;hr width=100% size=1 color=silver&gt;&lt;/H1&gt;<br/><br/>            &lt;h2&gt; &lt;i&gt;Runtime Error&lt;/i&gt; &lt;/h2&gt;&lt;/span&gt;<br/><br/>            &lt;font face=&quot;Arial, Helvetica, Geneva, SunSans-Regular, sans-serif &quot;&gt;<br/><br/>            &lt;b&gt; Description: &lt;/b&gt;An application error occurred on the server. The current custom error settings for this application prevent the details of the application error from being viewed remotely (for security reasons). It could, however, be viewed by browsers running on the local server machine.<br/>            &lt;br&gt;&lt;br&gt;<br/><br/>            &lt;b&gt;Details:&lt;/b&gt; To enable the details of this specific error message to be viewable on remote machines, please create a &amp;lt;customErrors&amp;gt; tag within a &amp;quot;web.config&amp;quot; configuration file located in the root directory of the current web application. This &amp;lt;customErrors&amp;gt; tag should then have its &amp;quot;mode&amp;quot; attribute set to &amp;quot;Off&amp;quot;.&lt;br&gt;&lt;br&gt;<br/><br/>            &lt;table width=100% bgcolor=&quot;#ffffcc&quot;&gt;<br/>               &lt;tr&gt;<br/>                  &lt;td&gt;<br/>                      &lt;code&gt;&lt;pre&gt;<br/><br/>&amp;lt;!-- Web.Config Configuration File --&amp;gt;<br/><br/>&amp;lt;configuration&amp;gt;<br/>    &amp;lt;system.web&amp;gt;<br/>        &amp;lt;customErrors mode=&amp;quot;Off&amp;quot;/&amp;gt;<br/>    &amp;lt;/system.web&amp;gt;<br/>&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;<br/><br/>                  &lt;/td&gt;<br/>               &lt;/tr&gt;<br/>            &lt;/table&gt;<br/><br/>            &lt;br&gt;<br/><br/>            &lt;b&gt;Notes:&lt;/b&gt; The current error page you are seeing can be replaced by a custom error page by modifying the &amp;quot;defaultRedirect&amp;quot; attribute of the application's &amp;lt;customErrors&amp;gt; configuration tag to point to a custom error page URL.&lt;br&gt;&lt;br&gt;<br/><br/>            &lt;table width=100% bgcolor=&quot;#ffffcc&quot;&gt;<br/>               &lt;tr&gt;<br/>                  &lt;td&gt;<br/>                      &lt;code&gt;&lt;pre&gt;<br/><br/>&amp;lt;!-- Web.Config Configuration File --&amp;gt;<br/><br/>&amp;lt;configuration&amp;gt;<br/>    &amp;lt;system.web&amp;gt;<br/>        &amp;lt;customErrors mode=&amp;quot;RemoteOnly&amp;quot; defaultRedirect=&amp;quot;mycustompage.htm&amp;quot;/&amp;gt;<br/>    &amp;lt;/system.web&amp;gt;<br/>&amp;lt;/configuration&amp;gt;&lt;/pre&gt;&lt;/code&gt;<br/><br/>                  &lt;/td&gt;<br/>               &lt;/tr&gt;<br/>            &lt;/table&gt;<br/><br/>            &lt;br&gt;<br/><br/>    &lt;/body&gt;<br/>&lt;/html&gt;<br/></pre></div></span></td>
		<td>xPath</td>
		<td colspan="2">//weather:City/text()</td>
	</tr>
</table></td></tr>
</table>
</article></body></html>