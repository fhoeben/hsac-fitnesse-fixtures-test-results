<html><head><title>HsacExamples.SlimTests.HttpTests.HttpGetFollowRedirectTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.HttpTests.HttpGetFollowRedirectTest</h2></header><article><br/><span class="meta">variable defined: REDIRECT_URL=http://www.hotmail.com</span>
<br/><br/>First we do a 'normal' GET to <a href="http://www.hotmail.com">http://www.hotmail.com</a>, which will redirect us.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">http test</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">get from</span></td>
		<td colspan="2"><a href="http://www.hotmail.com">http://www.hotmail.com</a></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response status</td>
		<td><span class="pass">200</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">response headers</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">Cache-Control</td>
		<td class="hash_value">private</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Content-Length</td>
		<td class="hash_value">3566</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Content-Type</td>
		<td class="hash_value">text/html; charset=utf-8</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Set-Cookie</td>
		<td class="hash_value">[ClientId=F1AD0C714DB148B894772F52D95CB1C0; expires=Sat, 12-Jan-2019 19:02:36 GMT; path=/; secure, ClientId=F1AD0C714DB148B894772F52D95CB1C0; expires=Sat, 12-Jan-2019 19:02:36 GMT; path=/; secure, HostSwitchPrg=; expires=Tue, 12-Jan-1988 19:02:36 GMT; path=/; secure, OptInPrg=; expires=Tue, 12-Jan-1988 19:02:36 GMT; path=/; secure, logonLatency=LGN01=636513805565691154; domain=live.com; path=/; secure; HttpOnly, O365Consumer=; expires=Tue, 12-Jan-1988 19:02:36 GMT; path=/; secure]</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">request-id</td>
		<td class="hash_value">0fa98198-4878-463e-9a71-9a6852d2fbd4</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-CalculatedBETarget</td>
		<td class="hash_value">MW2PR1501MB1995.namprd15.prod.outlook.com</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEndHttpStatus</td>
		<td class="hash_value">200</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-Content-Type-Options</td>
		<td class="hash_value">nosniff</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-FRAME-OPTIONS</td>
		<td class="hash_value">SAMEORIGIN</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEnd-Begin</td>
		<td class="hash_value">2018-01-12T19:02:36.569</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEnd-End</td>
		<td class="hash_value">2018-01-12T19:02:36.584</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-DiagInfo</td>
		<td class="hash_value">MW2PR1501MB1995</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BEServer</td>
		<td class="hash_value">MW2PR1501MB1995</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-UA-Compatible</td>
		<td class="hash_value">IE=EmulateIE7</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Strict-Transport-Security</td>
		<td class="hash_value">max-age=31536000; includeSubDomains</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-Powered-By</td>
		<td class="hash_value">ASP.NET</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-FEServer</td>
		<td class="hash_value">BL0PR1501CA0025</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-MSEdge-Ref</td>
		<td class="hash_value">Ref A: DC68A440ED884971B490D88397A045E3 Ref B: ASHEDGE0712 Ref C: 2018-01-12T19:02:36Z</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Date</td>
		<td class="hash_value">Fri, 12 Jan 2018 19:02:35 GMT</td>
	</tr>
</table></td></tr>
</table>
<br/>Then we do the same call without following the redirect, allowing us to inspect that a redirect is sent and what the redirect location is.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">http test</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">get from</span></td>
		<td><a href="http://www.hotmail.com">http://www.hotmail.com</a></td>
		<td colspan="2">no redirect</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response status</td>
		<td colspan="2"><span class="pass">301</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response header</td>
		<td>Location</td>
		<td>[https://<span class="diff">out</span>l<span class="diff">ook</span>.live.com/<span class="diff">ow</span>a<span class="diff">/</span>] <span class="fail">expected [https://</span><span class="diff">mai</span><span class="fail">l.live.com/</span><span class="diff">def</span><span class="fail">a</span><span class="diff">ult.aspx</span><span class="fail">]</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">response</td>
	<td></td></tr>
</table>
</article></body></html>