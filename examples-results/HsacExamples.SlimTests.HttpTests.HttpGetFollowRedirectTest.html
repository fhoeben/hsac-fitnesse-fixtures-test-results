<html><head><title>HsacExamples.SlimTests.HttpTests.HttpGetFollowRedirectTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.HttpTests.HttpGetFollowRedirectTest</h2></header><article><br/><span class="meta">variable defined: REDIRECT_URL=http://www.hotmail.com</span>
<br/><br/>First we do a 'normal' GET to <a href="http://www.hotmail.com">http://www.hotmail.com</a>, which will redirect us.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">http test</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">get from</span></td>
		<td colspan="2"><a href="http://www.hotmail.com">http://www.hotmail.com</a></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response status</td>
		<td><span class="pass">200</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">response headers</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">Cache-Control</td>
		<td class="hash_value">private</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Transfer-Encoding</td>
		<td class="hash_value">chunked</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Content-Type</td>
		<td class="hash_value">text/html; charset=utf-8</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Vary</td>
		<td class="hash_value">Accept-Encoding</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Set-Cookie</td>
		<td class="hash_value">[HostSwitchPrg=; expires=Fri, 24-Mar-1989 15:03:14 GMT; path=/; secure, OptInPrg=; expires=Fri, 24-Mar-1989 15:03:14 GMT; path=/; secure, logonLatency=LGN01=636890365940818039; domain=live.com; path=/; secure; HttpOnly, O365Consumer=; expires=Fri, 24-Mar-1989 15:03:14 GMT; path=/; secure]</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">request-id</td>
		<td class="hash_value">ff22f832-5666-444e-aaa2-7addf6a857fe</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-CalculatedBETarget</td>
		<td class="hash_value">YTBPR01MB3373.CANPRD01.PROD.OUTLOOK.COM</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEndHttpStatus</td>
		<td class="hash_value">200</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-RUM-Validated</td>
		<td class="hash_value">1</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-Content-Type-Options</td>
		<td class="hash_value">nosniff</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BeSku</td>
		<td class="hash_value">WCS5</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-FRAME-OPTIONS</td>
		<td class="hash_value">SAMEORIGIN</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEnd-Begin</td>
		<td class="hash_value">2019-03-24T15:03:14.079</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEnd-End</td>
		<td class="hash_value">2019-03-24T15:03:14.085</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-DiagInfo</td>
		<td class="hash_value">YTBPR01MB3373</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BEServer</td>
		<td class="hash_value">YTBPR01MB3373</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-UA-Compatible</td>
		<td class="hash_value">IE=EmulateIE7</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Strict-Transport-Security</td>
		<td class="hash_value">max-age=31536000; includeSubDomains</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-FEServer</td>
		<td class="hash_value">YTXPR0101CA0044</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-MSEdge-Ref</td>
		<td class="hash_value">Ref A: 5372F22489EE4C7CB526822FCC3AE63D Ref B: CHGEDGE1209 Ref C: 2019-03-24T15:03:14Z</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Date</td>
		<td class="hash_value">Sun, 24 Mar 2019 15:03:14 GMT</td>
	</tr>
</table></td></tr>
</table>
<br/>Then we do the same call without following the redirect, allowing us to inspect that a redirect is sent and what the redirect location is.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">http test</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">get from</span></td>
		<td><a href="http://www.hotmail.com">http://www.hotmail.com</a></td>
		<td colspan="2">no redirect</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response status</td>
		<td colspan="2"><span class="pass">301</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response header</td>
		<td>Location</td>
		<td><span class="pass">https://outlook.live.com/owa/</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">response</td>
	<td></td></tr>
</table>
</article></body></html>