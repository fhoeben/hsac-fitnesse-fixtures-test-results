<html><head><title>HsacExamples.SlimTests.HttpTests.HttpGetFollowRedirectTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.HttpTests.HttpGetFollowRedirectTest</h2></header><article><br/><span class="meta">variable defined: REDIRECT_URL=http://www.hotmail.com</span>
<br/><br/>First we do a 'normal' GET to <a href="http://www.hotmail.com">http://www.hotmail.com</a>, which will redirect us.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">http test</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">get from</span></td>
		<td colspan="2"><a href="http://www.hotmail.com">http://www.hotmail.com</a></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response status</td>
		<td><span class="pass">200</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">response headers</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">Cache-Control</td>
		<td class="hash_value">private</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Transfer-Encoding</td>
		<td class="hash_value">chunked</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Content-Type</td>
		<td class="hash_value">text/html; charset=utf-8</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Vary</td>
		<td class="hash_value">Accept-Encoding</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Set-Cookie</td>
		<td class="hash_value">[HostSwitchPrg=; expires=Sun, 16-Jul-1989 11:13:48 GMT; path=/; secure, OptInPrg=; expires=Sun, 16-Jul-1989 11:13:48 GMT; path=/; secure, logonLatency=LGN01=636988724282806854; domain=live.com; path=/; secure; HttpOnly, O365Consumer=; expires=Sun, 16-Jul-1989 11:13:48 GMT; path=/; secure]</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">request-id</td>
		<td class="hash_value">9c5cfb20-a9d0-469a-932e-fb968f6bb700</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-CalculatedFETarget</td>
		<td class="hash_value">BL0PR05CU001.internal.outlook.com</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEndHttpStatus</td>
		<td class="hash_value">[200, 200]</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-FEProxyInfo</td>
		<td class="hash_value">BL0PR05CA0014.NAMPRD05.PROD.OUTLOOK.COM</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-CalculatedBETarget</td>
		<td class="hash_value">MN2PR18MB3360.namprd18.prod.outlook.com</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-RUM-Validated</td>
		<td class="hash_value">1</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-Content-Type-Options</td>
		<td class="hash_value">nosniff</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BeSku</td>
		<td class="hash_value">WCS5</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-FRAME-OPTIONS</td>
		<td class="hash_value">SAMEORIGIN</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEnd-Begin</td>
		<td class="hash_value">2019-07-16T11:13:48.279</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BackEnd-End</td>
		<td class="hash_value">2019-07-16T11:13:48.285</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-DiagInfo</td>
		<td class="hash_value">MN2PR18MB3360</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-BEServer</td>
		<td class="hash_value">MN2PR18MB3360</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-UA-Compatible</td>
		<td class="hash_value">IE=EmulateIE7</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Strict-Transport-Security</td>
		<td class="hash_value">[max-age=31536000; includeSubDomains, max-age=31536000; includeSubDomains]</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-FEServer</td>
		<td class="hash_value">[BL0PR05CA0014, CH2PR18CA0011]</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">X-MSEdge-Ref</td>
		<td class="hash_value">Ref A: 91859D6C106948819C9FD9B257979D45 Ref B: CHGEDGE1212 Ref C: 2019-07-16T11:13:48Z</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">Date</td>
		<td class="hash_value">Tue, 16 Jul 2019 11:13:47 GMT</td>
	</tr>
</table></td></tr>
</table>
<br/>Then we do the same call without following the redirect, allowing us to inspect that a redirect is sent and what the redirect location is.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">http test</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td><span class="pass">get from</span></td>
		<td><a href="http://www.hotmail.com">http://www.hotmail.com</a></td>
		<td colspan="2">no redirect</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response status</td>
		<td colspan="2"><span class="pass">301</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>response header</td>
		<td>Location</td>
		<td><span class="pass">https://outlook.live.com/owa/</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">response</td>
	<td></td></tr>
</table>
</article></body></html>