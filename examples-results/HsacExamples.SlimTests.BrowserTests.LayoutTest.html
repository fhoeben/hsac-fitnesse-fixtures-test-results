<html><head><title>HsacExamples.SlimTests.BrowserTests.LayoutTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacExamples.SlimTests.BrowserTests.LayoutTest</h2></header><article><br/><h1 id="PageLayoutTestingusing">Page Layout Testing using LayoutTest</h1>
<br/>On this page we check whether a page, opened using BrowserTest, meets the look and feel criteria described in a 'spec file'.<br/>This is done by using LayoutTest (so not by BrowserTest itself) which enables the use of the <a href="http://galenframework.com">Galen Framework</a>.<br/>A 'spec file' is a file containing a specification, written in <a href="http://galenframework.com/docs/reference-galen-spec-language-guide/">Galen Spec Language</a>, which allows the location of objects relatively to each other on a page to be checked.<br/>This file is loaded from the wiki's files section<a title="create page" href="FitNesse.FullReferenceGuide.UserGuide.FitNesseWiki.FilesSection?edit&amp;nonExistent=true">[?]</a>.<br/><br/>Since two different fixtures are used this test page uses two separate script tables: one to open the right page, and another to perform the layout check.<br/>Depending on the focus of the test script one could consider whether it makes sense to use either BrowserTest (when the focus is no layout checking) or LayoutTest (when the focus of the script is browser actions) as a library<a title="create page" href="FitNesse.FullReferenceGuide.UserGuide.WritingAcceptanceTests.SliM.LibraryTable?edit&amp;nonExistent=true">[?]</a>. This removes the need to explicitly switch between the two fixtures.<br/>One can then just have a single script (using methods from both fixtures) manipuating the browser and checking the resulting pages' layout.<br/><br/><p class="note">The configuration of Selenium (i.e. which browser to use) and starting the browser session is done in the SuiteSetup<a title="create page" href="HsacExamples.SlimTests.BrowserTests.SuiteSetup?edit&amp;nonExistent=true">[?]</a>. Which allows this configuration to be shared between tests. Closing the browser is done in <a href="HsacExamples.SlimTests.BrowserTests.SuiteTearDown">SuiteTearDown</a>, which happens after all tests are completed.</p><br/>We start by opening the page to be checked.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td><a href="http://testapp.galenframework.com">http://testapp.galenframework.com</a></td>
	</tr>
</table>
<br/>Then we trigger layout verification, and check its results. Note that the full (HTML) report generated by Galen will be made available as part of the test result.<br/>That full report will contain all details on any issues found. In the wiki test we just check: that the spec file used contained specs to be used, and how many specs caused errors/warnings.<br/>(This test is a bit strange in that it expects errors, which you normally would not.)<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">layout test</span></td>
	</tr>
	<tr class="slimRowColor7">
		<td>set included tags</td>
		<td colspan="2">usual,hovered</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>verify layout using</td>
		<td><a href="files/galenExamples/menuHighlight.gspec">http://files/galenExamples/menuHighlight.gspec</a></td>
	<td><a href="files/galen-reports/1530346147662/1-fitnesselayouttest0.html">1-fitnesselayouttest0.html</a></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>verified spec count</td>
		<td><span class="pass">2&gt;0</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>passed spec count</td>
		<td><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>spec error count</td>
		<td><span class="pass">2</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>spec warning count</td>
		<td><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">layout check messages</td>
	<td><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">[menu_item-1]</td>
		<td class="hash_value"><table class="hash_table">
	<tr class="hash_row">
		<td class="hash_key">error on: color-scheme 90 to 96 % #205380, 1 to 4 % white</td>
		<td class="hash_value">[color #205380 on "menu_item-1" is 0% which is not in range of 90 to 96%, color white on "menu_item-1" is 0% which is not in range of 1 to 4%]</td>
	</tr>
	<tr class="hash_row">
		<td class="hash_key">error on: color-scheme 90 to 96 % #2d6ca2, 1 to 4 % white</td>
		<td class="hash_value">[color #2d6ca2 on "menu_item-1" is 0% which is not in range of 90 to 96%, color white on "menu_item-1" is 0% which is not in range of 1 to 4%]</td>
	</tr>
</table></td>
	</tr>
</table></td></tr>
	<tr class="slimRowColor7">
		<td>set included tags</td>
		<td colspan="2">usual</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set layout check name</td>
		<td colspan="2">Menu with usual highlight</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>verify layout using</td>
		<td><a href="files/galenExamples/menuHighlight.gspec">http://files/galenExamples/menuHighlight.gspec</a></td>
	<td><a href="files/galen-reports/1530346147662/2-menu-with-usual-highlight.html">2-menu-with-usual-highlight.html</a></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>spec error count</td>
		<td><span class="pass">1</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>spec warning count</td>
		<td><span class="pass">0</span></td>
	</tr>
</table>
<br/></article></body></html>